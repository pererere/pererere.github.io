<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FoodLink: D:/GIT/FoodLink/foodlink.client/node_modules/pacote Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FoodLink
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_415b024d541444d53bae72aef0c75ca7.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">pacote Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Fetches package manifests and tarballs from the npm registry.</p>
<h1><a class="anchor" id="autotoc_md15876"></a>
USAGE</h1>
<div class="fragment"><div class="line">const pacote = require(&#39;pacote&#39;)</div>
<div class="line"> </div>
<div class="line">// get a package manifest</div>
<div class="line">pacote.manifest(&#39;foo@1.x&#39;).then(manifest =&gt; console.log(&#39;got it&#39;, manifest))</div>
<div class="line"> </div>
<div class="line">// extract a package into a folder</div>
<div class="line">pacote.extract(&#39;github:npm/cli&#39;, &#39;some/path&#39;, options)</div>
<div class="line">  .then(({from, resolved, integrity}) =&gt; {</div>
<div class="line">    console.log(&#39;extracted!&#39;, from, resolved, integrity)</div>
<div class="line">  })</div>
<div class="line"> </div>
<div class="line">pacote.tarball(&#39;https://server.com/package.tgz&#39;).then(data =&gt; {</div>
<div class="line">  console.log(&#39;got &#39; + data.length + &#39; bytes of tarball data&#39;)</div>
<div class="line">})</div>
</div><!-- fragment --><p><code>pacote</code> works with any kind of package specifier that npm can install. If you can pass it to the npm CLI, you can pass it to pacote. (In fact, that's exactly what the npm CLI does.)</p>
<p>Anything that you can do with one kind of package, you can do with another.</p>
<p>Data that isn't relevant (like a packument for a tarball) will be simulated.</p>
<p><code>prepare</code> scripts will be run when generating tarballs from <code>git</code> and <code>directory</code> locations, to simulate what <em>would</em> be published to the registry, so that you get a working package instead of just raw source code that might need to be transpiled.</p>
<h1><a class="anchor" id="autotoc_md15877"></a>
CLI</h1>
<p>This module exports a command line interface that can do most of what is described below. Run <code>pacote -h</code> to learn more.</p>
<div class="fragment"><div class="line">Pacote - The JavaScript Package Handler, v10.1.1</div>
<div class="line"> </div>
<div class="line">Usage:</div>
<div class="line"> </div>
<div class="line">  pacote resolve &lt;spec&gt;</div>
<div class="line">    Resolve a specifier and output the fully resolved target</div>
<div class="line">    Returns integrity and from if &#39;--long&#39; flag is set.</div>
<div class="line"> </div>
<div class="line">  pacote manifest &lt;spec&gt;</div>
<div class="line">    Fetch a manifest and print to stdout</div>
<div class="line"> </div>
<div class="line">  pacote packument &lt;spec&gt;</div>
<div class="line">    Fetch a full packument and print to stdout</div>
<div class="line"> </div>
<div class="line">  pacote tarball &lt;spec&gt; [&lt;filename&gt;]</div>
<div class="line">    Fetch a package tarball and save to &lt;filename&gt;</div>
<div class="line">    If &lt;filename&gt; is missing or &#39;-&#39;, the tarball will be streamed to stdout.</div>
<div class="line"> </div>
<div class="line">  pacote extract &lt;spec&gt; &lt;folder&gt;</div>
<div class="line">    Extract a package to the destination folder.</div>
<div class="line"> </div>
<div class="line">Configuration values all match the names of configs passed to npm, or</div>
<div class="line">options passed to Pacote.  Additional flags for this executable:</div>
<div class="line"> </div>
<div class="line">  --long     Print an object from &#39;resolve&#39;, including integrity and spec.</div>
<div class="line">  --json     Print result objects as JSON rather than node&#39;s default.</div>
<div class="line">             (This is the default if stdout is not a TTY.)</div>
<div class="line">  --help -h  Print this helpful text.</div>
<div class="line"> </div>
<div class="line">For example &#39;--cache=/path/to/folder&#39; will use that folder as the cache.</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md15878"></a>
API</h1>
<p>The <code>spec</code> refers to any kind of package specifier that npm can install. If you can pass it to the npm CLI, you can pass it to pacote. (In fact, that's exactly what the npm CLI does.)</p>
<p>See below for valid <code>opts</code> values.</p>
<ul>
<li><code>pacote.resolve(spec, opts)</code> Resolve a specifier like <code>foo@latest</code> or <code>github:user/project</code> all the way to a tarball url, tarball file, or git repo with commit hash.</li>
<li><code>pacote.extract(spec, dest, opts)</code> Extract a package's tarball into a destination folder. Returns a promise that resolves to the <code>{from,resolved,integrity}</code> of the extracted package.</li>
<li><code>pacote.manifest(spec, opts)</code> Fetch (or simulate) a package's manifest (basically, the <code>package.json</code> file, plus a bit of metadata). See below for more on manifests and packuments. Returns a Promise that resolves to the manifest object.</li>
<li><code>pacote.packument(spec, opts)</code> Fetch (or simulate) a package's packument (basically, the top-level package document listing all the manifests that the registry returns). See below for more on manifests and packuments. Returns a Promise that resolves to the packument object.</li>
<li><code>pacote.tarball(spec, opts)</code> Get a package tarball data as a buffer in memory. Returns a Promise that resolves to the tarball data Buffer, with <code>from</code>, <code>resolved</code>, and <code>integrity</code> fields attached.</li>
<li><code>pacote.tarball.file(spec, dest, opts)</code> Save a package tarball data to a file on disk. Returns a Promise that resolves to <code>{from,integrity,resolved}</code> of the fetched tarball.</li>
<li><p class="startli"><code>pacote.tarball.stream(spec, streamHandler, opts)</code> Fetch a tarball and make the stream available to the <code>streamHandler</code> function.</p>
<p class="startli">This is mostly an internal function, but it is exposed because it does provide some functionality that may be difficult to achieve otherwise.</p>
<p class="startli">The <code>streamHandler</code> function MUST return a Promise that resolves when the stream (and all associated work) is ended, or rejects if the stream has an error.</p>
<p class="startli">The <code>streamHandler</code> function MAY be called multiple times, as Pacote retries requests in some scenarios, such as cache corruption or retriable network failures.</p>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md15879"></a>
Options</h2>
<p>Options are passed to <a href="http://npm.im/npm-registry-fetch"><code>npm-registry-fetch</code></a> and <a href="http://npm.im/cacache"><code>cacache</code></a>, so in addition to these, anything for those modules can be given to pacote as well.</p>
<p>Options object is cloned, and mutated along the way to add integrity, resolved, and other properties, as they are determined.</p>
<ul>
<li><code>cache</code> Where to store cache entries and temp files. Passed to <a href="http://npm.im/cacache"><code>cacache</code></a>. Defaults to the same cache directory that npm will use by default, based on platform and environment.</li>
<li><code>where</code> Base folder for resolving relative <code>file:</code> dependencies.</li>
<li><code>resolved</code> Shortcut for looking up resolved values. Should be specified if known.</li>
<li><code>integrity</code> Expected integrity of fetched package tarball. If specified, tarballs with mismatched integrity values will raise an <code>EINTEGRITY</code> error.</li>
<li><code>umask</code> Permission mode mask for extracted files and directories. Defaults to <code>0o22</code>. See "Extracted File Modes" below.</li>
<li><code>fmode</code> Minimum permission mode for extracted files. Defaults to <code>0o666</code>. See "Extracted File Modes" below.</li>
<li><code>dmode</code> Minimum permission mode for extracted directories. Defaults to <code>0o777</code>. See "Extracted File Modes" below.</li>
<li><code>preferOnline</code> Prefer to revalidate cache entries, even when it would not be strictly necessary. Default <code>false</code>.</li>
<li><code>before</code> When picking a manifest from a packument, only consider packages published before the specified date. Default <code>null</code>.</li>
<li><code>defaultTag</code> The default <code>dist-tag</code> to use when choosing a manifest from a packument. Defaults to <code>latest</code>.</li>
<li><code>registry</code> The npm registry to use by default. Defaults to <code><a href="https://registry.npmjs.org/">https://registry.npmjs.org/</a></code>.</li>
<li><code>fullMetadata</code> Fetch the full metadata from the registry for packuments, including information not strictly required for installation (author, description, etc.) Defaults to <code>true</code> when <code>before</code> is set, since the version publish time is part of the extended packument metadata.</li>
<li><code>fullReadJson</code> Use the slower <code>read-package-json</code> package insted of <code>read-package-json-fast</code> in order to include extra fields like "readme" in the manifest. Defaults to <code>false</code>.</li>
<li><code>packumentCache</code> For registry packuments only, you may provide a <code>Map</code> object which will be used to cache packument requests between pacote calls. This allows you to easily avoid hitting the registry multiple times (even just to validate the cache) for a given packument, since it is unlikely to change in the span of a single command.</li>
<li><code>silent</code> A boolean that determines whether the banner is displayed when calling <code>@npmcli/run-script</code>.</li>
<li><code>verifySignatures</code> A boolean that will make pacote verify the integrity signature of a manifest, if present. There must be a configured <code>_keys</code> entry in the config that is scoped to the registry the manifest is being fetched from.</li>
<li><code>verifyAttestations</code> A boolean that will make pacote verify Sigstore attestations, if present. There must be a configured <code>_keys</code> entry in the config that is scoped to the registry the manifest is being fetched from.</li>
<li><code>tufCache</code> Where to store metadata/target files when retrieving the package attestation key material via TUF. Defaults to the same cache directory that npm will use by default, based on platform and environment.</li>
</ul>
<h2><a class="anchor" id="autotoc_md15880"></a>
Advanced API</h2>
<p>Each different type of fetcher is exposed for more advanced usage such as using helper methods from this classes:</p>
<ul>
<li><code>DirFetcher</code></li>
<li><code>FileFetcher</code></li>
<li><code>GitFetcher</code></li>
<li><code>RegistryFetcher</code></li>
<li><code>RemoteFetcher</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md15881"></a>
Extracted File Modes</h1>
<p>Files are extracted with a mode matching the following formula:</p>
<div class="fragment"><div class="line">( (tarball entry mode value) | (minimum mode option) ) ~ (umask)</div>
</div><!-- fragment --><p>This is in order to prevent unreadable files or unlistable directories from cluttering a project's <code>node_modules</code> folder, even if the package tarball specifies that the file should be inaccessible.</p>
<p>It also prevents files from being group- or world-writable without explicit opt-in by the user, because all file and directory modes are masked against the <code>umask</code> value.</p>
<p>So, a file which is <code>0o771</code> in the tarball, using the default <code>fmode</code> of <code>0o666</code> and <code>umask</code> of <code>0o22</code>, will result in a file mode of <code>0o755</code>:</p>
<div class="fragment"><div class="line">(0o771 | 0o666) =&gt; 0o777</div>
<div class="line">(0o777 ~ 0o22) =&gt; 0o755</div>
</div><!-- fragment --><p>In almost every case, the defaults are appropriate. To respect exactly what is in the package tarball (even if this makes an unusable system), set both <code>dmode</code> and <code>fmode</code> options to <code>0</code>. Otherwise, the <code>umask</code> config should be used in most cases where file mode modifications are required, and this functions more or less the same as the <code>umask</code> value in most Unix systems.</p>
<h1><a class="anchor" id="autotoc_md15882"></a>
Extracted File Ownership</h1>
<p>When running as <code>root</code> on Unix systems, all extracted files and folders will have their owning <code>uid</code> and <code>gid</code> values set to match the ownership of the containing folder.</p>
<p>This prevents <code>root</code>-owned files showing up in a project's <code>node_modules</code> folder when a user runs <code>sudo npm install</code>.</p>
<h1><a class="anchor" id="autotoc_md15883"></a>
Manifests</h1>
<p>A <code>manifest</code> is similar to a <code>package.json</code> file. However, it has a few pieces of extra metadata, and sometimes lacks metadata that is inessential to package installation.</p>
<p>In addition to the common <code>package.json</code> fields, manifests include:</p>
<ul>
<li><code>manifest._resolved</code> The tarball url or file path where the package artifact can be found.</li>
<li><code>manifest._from</code> A normalized form of the spec passed in as an argument.</li>
<li><code>manifest._integrity</code> The integrity value for the package artifact.</li>
<li><code>manifest._id</code> The canonical spec of this package version: name<dl class="section version"><dt>Version</dt><dd>.</dd></dl>
</li>
<li><code>manifest.dist</code> Registry manifests (those included in a packument) have a <code>dist</code> object. Only <code>tarball</code> is required, though at least one of <code>shasum</code> or <code>integrity</code> is almost always present.<ul>
<li><code>tarball</code> The url to the associated package artifact. (Copied by Pacote to <code>manifest._resolved</code>.)</li>
<li><code>integrity</code> The integrity SRI string for the artifact. This may not be present for older packages on the npm registry. (Copied by Pacote to <code>manifest._integrity</code>.)</li>
<li><code>shasum</code> Legacy integrity value. Hexadecimal-encoded sha1 hash. (Converted to an SRI string and copied by Pacote to <code>manifest._integrity</code> when <code>dist.integrity</code> is not present.)</li>
<li><code>fileCount</code> Number of files in the tarball.</li>
<li><code>unpackedSize</code> Size on disk of the package when unpacked.</li>
<li><code>signatures</code> Signatures of the shasum. Includes the keyid that correlates to a <a href="https://registry.npmjs.org/-/npm/v1/keys"><code>key from the npm registry</code></a></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md15884"></a>
Packuments</h1>
<p>A packument is the top-level package document that lists the set of manifests for available versions for a package.</p>
<p>When a packument is fetched with <code>accept: application/vnd.npm.install-v1+json</code> in the HTTP headers, only the most minimum necessary metadata is returned. Additional metadata is returned when fetched with only <code>accept: application/json</code>.</p>
<p>For Pacote's purposes, the following fields are relevant:</p>
<ul>
<li><code>versions</code> An object where each key is a version, and each value is the manifest for that version.</li>
<li><code>dist-tags</code> An object mapping dist-tags to version numbers. This is how <code>foo@latest</code> gets turned into <code>foo@1.2.3</code>.</li>
<li><code>time</code> In the full packument, an object mapping version numbers to publication times, for the <code>opts.before</code> functionality.</li>
</ul>
<p>Pacote adds the following field, regardless of the accept header:</p>
<ul>
<li><code>_contentLength</code> The size of the packument. </li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2819f17ffd536c76baa6d22c695599c9.html">GIT</a></li><li class="navelem"><a class="el" href="dir_7c2f69865df6d9deb87b81146fc3b4f6.html">FoodLink</a></li><li class="navelem"><a class="el" href="dir_060908b24f206e0870efcd71814665ad.html">foodlink.client</a></li><li class="navelem"><a class="el" href="dir_083bb234fa234c64f25ac45abfe72fc3.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_415b024d541444d53bae72aef0c75ca7.html">pacote</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
