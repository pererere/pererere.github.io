\chapter{Documentation}
\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2license-webpack-plugin_2_d_o_c_u_m_e_n_t_a_t_i_o_n}{}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2license-webpack-plugin_2_d_o_c_u_m_e_n_t_a_t_i_o_n}\index{Documentation@{Documentation}}
\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2license-webpack-plugin_2_d_o_c_u_m_e_n_t_a_t_i_o_n_autotoc_md13056}%
\Hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2license-webpack-plugin_2_d_o_c_u_m_e_n_t_a_t_i_o_n_autotoc_md13056}%
\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2license-webpack-plugin_2_d_o_c_u_m_e_n_t_a_t_i_o_n_autotoc_md13057}{}\doxysection{\texorpdfstring{Basic Setup}{Basic Setup}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2license-webpack-plugin_2_d_o_c_u_m_e_n_t_a_t_i_o_n_autotoc_md13057}
Below is an example of how to add the plugin to a webpack config\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ LicenseWebpackPlugin\ =\ require('license-\/webpack-\/plugin').LicenseWebpackPlugin;}
\DoxyCodeLine{}
\DoxyCodeLine{module.exports\ =\ \{}
\DoxyCodeLine{\ \ plugins:\ [}
\DoxyCodeLine{\ \ \ \ new\ LicenseWebpackPlugin()}
\DoxyCodeLine{\ \ ]}
\DoxyCodeLine{\};}

\end{DoxyCode}
\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2license-webpack-plugin_2_d_o_c_u_m_e_n_t_a_t_i_o_n_autotoc_md13058}{}\doxysection{\texorpdfstring{Configuration}{Configuration}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2license-webpack-plugin_2_d_o_c_u_m_e_n_t_a_t_i_o_n_autotoc_md13058}

\begin{DoxyItemize}
\item {\bfseries{{\ttfamily stats}}} -\/ toggle warnings and errors on/off (default\+: report warnings and errors)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ stats:\ \{}
\DoxyCodeLine{\ \ \ \ warnings:\ true,}
\DoxyCodeLine{\ \ \ \ errors:\ true}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily license\+Inclusion\+Test}}} -\/ filter which licenses get included in the report (default\+: capture all licenses)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ licenseInclusionTest:\ (licenseType)\ =>\ (licenseType\ ===\ 'MIT')}
\DoxyCodeLine{\});}

\end{DoxyCode}


Notes\+: All license identifiers in npm packages are supposed to follow SPDX format. If your requirements are very specific, it is recommended to set up this option using the \href{https://www.npmjs.com/package/spdx-satisfies}{\texttt{ {\ttfamily spdx-\/satisfies}}} package. The plugin does not provide the {\ttfamily spdx-\/satisfies} package, so you must install it separately if you want to use it.

Example using {\ttfamily spdx-\/satisfies}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ satisfies\ =\ require('spdx-\/satisfies');}
\DoxyCodeLine{}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ licenseInclusionTest:\ (licenseType)\ =>\ satisfies(licenseType,\ '(ISC\ OR\ MIT)')}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily output\+Filename}}} -\/ customize the license report filename (default\+: `'\mbox{[}name\mbox{]}.licenses.\+txt\textquotesingle{}\`{})
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ outputFilename:\ '[name].[hash].licenses.txt'}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily unacceptable\+License\+Test}}} -\/ error out on unacceptable license (default\+: disabled)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ unacceptableLicenseTest:\ (licenseType)\ =>\ (licenseType\ ===\ 'GPL')}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily handle\+Unacceptable\+License}}} -\/ do something when an unacceptable license is found (default\+: disabled)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ unacceptableLicenseTest:\ (licenseType)\ =>\ (licenseType\ ===\ 'GPL'),}
\DoxyCodeLine{\ \ handleUnacceptableLicense:\ (packageName,\ licenseType)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ //\ do\ something\ here}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily excluded\+Package\+Test}}} -\/ exclude packages (default\+: disabled)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ excludedPackageTest:\ (packageName)\ =>\ packageName\ ===\ 'excluded-\/package'}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily per\+Chunk\+Output}}} -\/ control whether or not the license files are generated per chunk or are combined into one file (default\+: {\ttfamily true})
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ perChunkOutput:\ false\ //\ combine\ all\ license\ information\ into\ one\ file}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily add\+Banner}}} -\/ write a banner to the top of each js file (default\+: {\ttfamily false})
\end{DoxyItemize}

⚠️ {\bfseries{Webpack V5 Users}}\+: Please read the notes on the {\ttfamily render\+Banner} option as some special configuration is required when using banners on webpack v5.

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ addBanner:\ true}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily license\+Type\+Overrides}}} -\/ override the license type for specific packages (default\+: disabled)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ licenseTypeOverrides:\ \{}
\DoxyCodeLine{\ \ \ \ foopkg:\ 'MIT'}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily license\+Text\+Overrides}}} -\/ override the license text for specific packages (default\+: disabled)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ licenseTextOverrides:\ \{}
\DoxyCodeLine{\ \ \ \ foopkg:\ 'License\ text\ for\ foopkg'}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily license\+File\+Overrides}}} -\/ override the license filename for specific packages (default\+: disabled)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ licenseFileOverrides:\ \{}
\DoxyCodeLine{\ \ \ \ foopkg:\ 'The-\/License.txt'}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}


Notes\+: The license filename is resolved relative to the package directory.


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily render\+Licenses}}} -\/ change the format / contents of the generated license file (default\+: print package name, license type, and license text)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ renderLicenses:\ (modules)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ console.log(modules[0].packageJson,\ modules[0].licenseId,\ modules[0].licenseText);}
\DoxyCodeLine{\ \ \ \ return\ JSON.stringify(modules);}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily render\+Banner}}} -\/ change the format / contents of the banner written to the top of each js file (default\+: print message indicating license filename)
\end{DoxyItemize}

⚠️ {\bfseries{Webpack V5 Users}}\+: The {\ttfamily modules} parameter to {\ttfamily render\+Banner} will be empty in webpack v5 due to technical limitations. In addition, Terser\+Plugin (which is automatically enabled on production builds to minify code and extract licenses) will interfere with the banner. In order to turn off the license handling feature of Terser\+Plugin, it needs to be reconfigured in webpack configuration like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ TerserPlugin\ =\ require('terser-\/webpack-\/plugin');}
\DoxyCodeLine{}
\DoxyCodeLine{module.exports\ =\ \{}
\DoxyCodeLine{\ \ optimization:\ \{}
\DoxyCodeLine{\ \ \ \ minimize:\ true,}
\DoxyCodeLine{\ \ \ \ minimizer:\ [}
\DoxyCodeLine{\ \ \ \ \ \ new\ TerserPlugin(\{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ extractComments:\ false,\ //\ prevents\ TerserPlugin\ from\ extracting\ a\ [chunkName].js.LICENSE.txt\ file}
\DoxyCodeLine{\ \ \ \ \ \ \ \ terserOptions:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ format:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ //\ Tell\ terser\ to\ remove\ all\ comments\ except\ for\ the\ banner\ added\ via\ LicenseWebpackPlugin.}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ //\ This\ can\ be\ customized\ further\ to\ allow\ other\ types\ of\ comments\ to\ show\ up\ in\ the\ final\ js\ file\ as\ well.}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ //\ See\ the\ terser\ documentation\ for\ format.comments\ options\ for\ more\ details.}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ comments:\ (astNode,\ comment)\ =>\ (comment.value.startsWith('!\ licenses\ are\ at\ '))}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \})}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ addBanner:\ true,\ }
\DoxyCodeLine{\ \ renderBanner:\ (filename,\ modules)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ console.log(modules);}
\DoxyCodeLine{\ \ \ \ return\ '/*!\ licenses\ are\ at\ '\ +\ filename\ +\ '*/';}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily handle\+Missing\+License\+Text}}} -\/ do something when license text is missing from a package (default\+: disabled)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ handleMissingLicenseText:\ (packageName,\ licenseType)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ console.log('Cannot\ find\ license\ for\ '\ +\ packageName);}
\DoxyCodeLine{\ \ \ \ return\ 'UNKNOWN';}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}


Notes\+: You can return your own license text from this function, but you should prefer using {\ttfamily license\+Text\+Overrides} first.


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily license\+Template\+Dir}}} -\/ use fallback license files for when a package is missing a license file (default\+: disabled)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ licenseTemplateDir:\ path.resolve(\_\_dirname,\ 'licenseTemplates')}
\DoxyCodeLine{\});}

\end{DoxyCode}


Notes\+: This option specifies a directory containing {\ttfamily .txt} files containing the license text based on the license type. (e.\+g. {\ttfamily MIT.\+txt}). Templates can be found \href{https://github.com/spdx/license-list}{\texttt{ here}}.


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily chunk\+Include\+Exclude\+Test}}} -\/ control which chunks gets processed by the plugin (default\+: all chunks get processed)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ chunkIncludeExcludeTest:\ \{}
\DoxyCodeLine{\ \ \ \ exclude:\ ['foo'],}
\DoxyCodeLine{\ \ \ \ include:\ ['bar']}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}


Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ chunkIncludeExcludeTest:\ (chunkName)\ =>\ chunkName.startsWith('abc')}
\DoxyCodeLine{\});}

\end{DoxyCode}


Notes\+: If there is a duplicate entry in both the {\ttfamily exclude} and {\ttfamily include} array, the duplicated entry will be excluded.


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily modules\+Directories}}} -\/ limit which directories get scanned for license files (default\+: disabled)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ modulesDirectories:\ [}
\DoxyCodeLine{\ \ \ \ path.resolve(\_\_dirname,\ 'node\_modules')}
\DoxyCodeLine{\ \ ]}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily additional\+Chunk\+Modules}}} -\/ add additional node modules to a chunk (default\+: disabled)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ additionalChunkModules:\ \{}
\DoxyCodeLine{\ \ \ \ main:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ name:\ 'somepkg',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ directory:\ path.join(\_\_dirname,\ 'node\_modules',\ 'somepkg')}
\DoxyCodeLine{\ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily additional\+Modules}}} -\/ add additional node modules to the scan (default\+: disabled)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ additionalModules:\ [}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ name:\ 'somepkg',}
\DoxyCodeLine{\ \ \ \ \ \ directory:\ path.join(\_\_dirname,\ 'node\_modules',\ 'somepkg')}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ ]}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily preferred\+License\+Types}}} -\/ help the plugin decide which license type to pick in case a package specifies multiple licenses (default\+: disabled)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ preferredLicenseTypes:\ ['MIT',\ 'ISC']}
\DoxyCodeLine{\});}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\bfseries{{\ttfamily handle\+License\+Ambiguity}}} -\/ do something when the plugin finds ambiguous license types (default\+: pick first license type)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ handleLicenseAmbiguity:\ (packageName,\ licenses)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ console.log(packageName);}
\DoxyCodeLine{\ \ \ \ console.log(licenses[0].url);}
\DoxyCodeLine{\ \ \ \ return\ licenses[0].type;}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}


Notes\+: This function is called whenever a license type could not be determined when a package uses the deprecated {\ttfamily licenses} field (which is an array of license types) in its package.\+json. It should return the license type to use. By default, the plugin prints a warning message to the console and chooses the first license type. You should use the {\ttfamily preferred\+License\+Types} option instead of this one.


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily handle\+Missing\+License\+Type}}} -\/ do something when a package is missing a license type (default\+: disabled)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ handleMissingLicenseType:\ (packageName)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ console.log(packageName);}
\DoxyCodeLine{\ \ \ \ return\ null;}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}


Notes\+: You can return a license type from this function, but it is a better idea to use the {\ttfamily license\+Type\+Overrides} option.


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily skip\+Child\+Compilers}}} -\/ do not apply the plugin to child webpack compilers (default\+: applies to child compilers too)
\end{DoxyItemize}

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{new\ LicenseWebpackPlugin(\{}
\DoxyCodeLine{\ \ skipChildCompilers:\ true}
\DoxyCodeLine{\});}

\end{DoxyCode}
 