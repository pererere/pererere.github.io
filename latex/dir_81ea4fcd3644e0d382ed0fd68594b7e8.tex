\doxysection{D\+:/\+GIT/\+Food\+Link/foodlink.client/node\+\_\+modules/@humanwhocodes/object-\/schema Directory Reference}
\hypertarget{dir_81ea4fcd3644e0d382ed0fd68594b7e8}{}\label{dir_81ea4fcd3644e0d382ed0fd68594b7e8}\index{D:/GIT/FoodLink/foodlink.client/node\_modules/"@humanwhocodes/object-\/schema Directory Reference@{D:/GIT/FoodLink/foodlink.client/node\_modules/"@humanwhocodes/object-\/schema Directory Reference}}


\doxysubsection{Detailed Description}
by \href{https://humanwhocodes.com}{\texttt{ Nicholas C. Zakas}}

If you find this useful, please consider supporting my work with a \href{https://humanwhocodes.com/donate}{\texttt{ donation}}.\hypertarget{README.md_autotoc_md920}{}\doxysubsection{\texorpdfstring{Overview}{Overview}}\label{README.md_autotoc_md920}
A Java\+Script object merge/validation utility where you can define a different merge and validation strategy for each key. This is helpful when you need to validate complex data structures and then merge them in a way that is more complex than {\ttfamily Object.\+assign()}.\hypertarget{README.md_autotoc_md921}{}\doxysubsection{\texorpdfstring{Installation}{Installation}}\label{README.md_autotoc_md921}
You can install using either npm\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ @humanwhocodes/object-\/schema}

\end{DoxyCode}


Or Yarn\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{yarn\ add\ @humanwhocodes/object-\/schema}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md922}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{README.md_autotoc_md922}
Use Common\+JS to get access to the {\ttfamily Object\+Schema} constructor\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ \{\ ObjectSchema\ \}\ =\ require("{}@humanwhocodes/object-\/schema"{});}
\DoxyCodeLine{}
\DoxyCodeLine{const\ schema\ =\ new\ ObjectSchema(\{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ //\ define\ a\ definition\ for\ the\ "{}downloads"{}\ key}
\DoxyCodeLine{\ \ \ \ downloads:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ required:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ merge(value1,\ value2)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ return\ value1\ +\ value2;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ validate(value)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ if\ (typeof\ value\ !==\ "{}number"{})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ throw\ new\ Error("{}Expected\ downloads\ to\ be\ a\ number."{});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ //\ define\ a\ strategy\ for\ the\ "{}versions"{}\ key}
\DoxyCodeLine{\ \ \ \ version:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ required:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ merge(value1,\ value2)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ return\ value1.concat(value2);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ validate(value)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ if\ (!Array.isArray(value))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ throw\ new\ Error("{}Expected\ versions\ to\ be\ an\ array."{});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{const\ record1\ =\ \{}
\DoxyCodeLine{\ \ \ \ downloads:\ 25,}
\DoxyCodeLine{\ \ \ \ versions:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}v1.0.0"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}v1.1.0"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}v1.2.0"{}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{const\ record2\ =\ \{}
\DoxyCodeLine{\ \ \ \ downloads:\ 125,}
\DoxyCodeLine{\ \ \ \ versions:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}v2.0.0"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}v2.1.0"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}v3.0.0"{}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{//\ make\ sure\ the\ records\ are\ valid}
\DoxyCodeLine{schema.validate(record1);}
\DoxyCodeLine{schema.validate(record2);}
\DoxyCodeLine{}
\DoxyCodeLine{//\ merge\ together\ (schema.merge()\ accepts\ any\ number\ of\ objects)}
\DoxyCodeLine{const\ result\ =\ schema.merge(record1,\ record2);}
\DoxyCodeLine{}
\DoxyCodeLine{//\ result\ looks\ like\ this:}
\DoxyCodeLine{}
\DoxyCodeLine{const\ result\ =\ \{}
\DoxyCodeLine{\ \ \ \ downloads:\ 75,}
\DoxyCodeLine{\ \ \ \ versions:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}v1.0.0"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}v1.1.0"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}v1.2.0"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}v2.0.0"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}v2.1.0"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}v3.0.0"{}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\};}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md923}{}\doxysubsection{\texorpdfstring{Tips and Tricks}{Tips and Tricks}}\label{README.md_autotoc_md923}
\hypertarget{README.md_autotoc_md924}{}\doxysubsubsection{\texorpdfstring{Named merge strategies}{Named merge strategies}}\label{README.md_autotoc_md924}
Instead of specifying a {\ttfamily merge()} method, you can specify one of the following strings to use a default merge strategy\+:


\begin{DoxyItemize}
\item {\ttfamily "{}assign"{}} -\/ use {\ttfamily Object.\+assign()} to merge the two values into one object.
\item {\ttfamily "{}overwrite"{}} -\/ the second value always replaces the first.
\item {\ttfamily "{}replace"{}} -\/ the second value replaces the first if the second is not {\ttfamily undefined}.
\end{DoxyItemize}

For example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ schema\ =\ new\ ObjectSchema(\{}
\DoxyCodeLine{\ \ \ \ name:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ merge:\ "{}replace"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ validate()\ \{\}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md925}{}\doxysubsubsection{\texorpdfstring{Named validation strategies}{Named validation strategies}}\label{README.md_autotoc_md925}
Instead of specifying a {\ttfamily validate()} method, you can specify one of the following strings to use a default validation strategy\+:


\begin{DoxyItemize}
\item {\ttfamily "{}array"{}} -\/ value must be an array.
\item {\ttfamily "{}boolean"{}} -\/ value must be a boolean.
\item {\ttfamily "{}number"{}} -\/ value must be a number.
\item {\ttfamily "{}object"{}} -\/ value must be an object.
\item {\ttfamily "{}object?"{}} -\/ value must be an object or null.
\item {\ttfamily "{}string"{}} -\/ value must be a string.
\item {\ttfamily "{}string!"{}} -\/ value must be a non-\/empty string.
\end{DoxyItemize}

For example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ schema\ =\ new\ ObjectSchema(\{}
\DoxyCodeLine{\ \ \ \ name:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ merge:\ "{}replace"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ validate:\ "{}string"{}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md926}{}\doxysubsubsection{\texorpdfstring{Subschemas}{Subschemas}}\label{README.md_autotoc_md926}
If you are defining a key that is, itself, an object, you can simplify the process by using a subschema. Instead of defining {\ttfamily merge()} and {\ttfamily validate()}, assign a {\ttfamily schema} key that contains a schema definition, like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ schema\ =\ new\ ObjectSchema(\{}
\DoxyCodeLine{\ \ \ \ name:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ schema:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ first:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ merge:\ "{}replace"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ validate:\ "{}string"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ last:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ merge:\ "{}replace"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ validate:\ "{}string"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{schema.validate(\{}
\DoxyCodeLine{\ \ \ \ name:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ first:\ "{}n"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ last:\ "{}z"{}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md927}{}\doxysubsubsection{\texorpdfstring{Remove Keys During Merge}{Remove Keys During Merge}}\label{README.md_autotoc_md927}
If the merge strategy for a key returns {\ttfamily undefined}, then the key will not appear in the final object. For example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ schema\ =\ new\ ObjectSchema(\{}
\DoxyCodeLine{\ \ \ \ date:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ merge()\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ return\ undefined;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ validate(value)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ Date.parse(value);\ \ //\ throws\ an\ error\ when\ invalid}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{const\ object1\ =\ \{\ date:\ "{}5/5/2005"{}\ \};}
\DoxyCodeLine{const\ object2\ =\ \{\ date:\ "{}6/6/2006"{}\ \};}
\DoxyCodeLine{}
\DoxyCodeLine{const\ result\ =\ schema.merge(object1,\ object2);}
\DoxyCodeLine{}
\DoxyCodeLine{console.log("{}date"{}\ in\ result);\ \ //\ false}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md928}{}\doxysubsubsection{\texorpdfstring{Requiring Another Key Be Present}{Requiring Another Key Be Present}}\label{README.md_autotoc_md928}
If you\textquotesingle{}d like the presence of one key to require the presence of another key, you can use the {\ttfamily requires} property to specify an array of other properties that any key requires. For example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ schema\ =\ new\ ObjectSchema();}
\DoxyCodeLine{}
\DoxyCodeLine{const\ schema\ =\ new\ ObjectSchema(\{}
\DoxyCodeLine{\ \ \ \ date:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ merge()\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ return\ undefined;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ validate(value)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ Date.parse(value);\ \ //\ throws\ an\ error\ when\ invalid}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ time:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ requires:\ ["{}date"{}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ merge(first,\ second)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ return\ second;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ validate(value)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ //\ ...}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{//\ throws\ error:\ Key\ "{}time"{}\ requires\ keys\ "{}date"{}}
\DoxyCodeLine{schema.validate(\{}
\DoxyCodeLine{\ \ \ \ time:\ "{}13:45"{}}
\DoxyCodeLine{\});}

\end{DoxyCode}


In this example, even though {\ttfamily date} is an optional key, it is required to be present whenever {\ttfamily time} is present.\hypertarget{README.md_autotoc_md929}{}\doxysubsection{\texorpdfstring{License}{License}}\label{README.md_autotoc_md929}
BSD 3-\/Clause 