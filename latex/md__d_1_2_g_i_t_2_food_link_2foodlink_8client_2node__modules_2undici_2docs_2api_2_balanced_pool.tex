\chapter{Class\+: Balanced\+Pool}
\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool}{}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool}\index{Class: BalancedPool@{Class: BalancedPool}}
\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21234}%
\Hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21234}%


Extends\+: {\ttfamily undici.\+Dispatcher}

A pool of \doxysectlink{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_pool}{Pool}{0} instances connected to multiple upstreams.

Requests are not guaranteed to be dispatched in order of invocation.\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21235}{}\doxysection{\texorpdfstring{{\ttfamily new Balanced\+Pool(upstreams \mbox{[}, options\mbox{]})}}{{\ttfamily new Balanced\+Pool(upstreams \mbox{[}, options\mbox{]})}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21235}
Arguments\+:


\begin{DoxyItemize}
\item {\bfseries{upstreams}} {\ttfamily URL \texorpdfstring{$\vert$}{|} string \texorpdfstring{$\vert$}{|} string\mbox{[}\mbox{]}} -\/ It should only include the {\bfseries{protocol, hostname, and port}}.
\item {\bfseries{options}} {\ttfamily Balanced\+Pool\+Options} (optional)
\end{DoxyItemize}\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21236}{}\doxysubsection{\texorpdfstring{Parameter\+: {\ttfamily Balanced\+Pool\+Options}}{Parameter\+: {\ttfamily Balanced\+Pool\+Options}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21236}
Extends\+: \href{Pool.md\#parameter-pooloptions}{\texttt{ {\ttfamily Pool\+Options}}}


\begin{DoxyItemize}
\item {\bfseries{factory}} {\ttfamily (origin\+: URL, opts\+: Object) =\texorpdfstring{$>$}{>} Dispatcher} -\/ Default\+: {\ttfamily (origin, opts) =\texorpdfstring{$>$}{>} new Pool(origin, opts)}
\end{DoxyItemize}

The {\ttfamily Pool\+Options} are passed to each of the {\ttfamily Pool} instances being created. \hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21237}{}\doxysection{\texorpdfstring{Instance Properties}{Instance Properties}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21237}
\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21238}{}\doxysubsection{\texorpdfstring{{\ttfamily Balanced\+Pool.\+upstreams}}{{\ttfamily Balanced\+Pool.\+upstreams}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21238}
Returns an array of upstreams that were previously added.\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21239}{}\doxysubsection{\texorpdfstring{{\ttfamily Balanced\+Pool.\+closed}}{{\ttfamily Balanced\+Pool.\+closed}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21239}
Implements \href{Client.md\#clientclosed}{\texttt{ Client.\+closed}}\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21240}{}\doxysubsection{\texorpdfstring{{\ttfamily Balanced\+Pool.\+destroyed}}{{\ttfamily Balanced\+Pool.\+destroyed}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21240}
Implements \href{Client.md\#clientdestroyed}{\texttt{ Client.\+destroyed}}\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21241}{}\doxysubsection{\texorpdfstring{{\ttfamily Pool.\+stats}}{{\ttfamily Pool.\+stats}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21241}
Returns \doxysectlink{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_pool_stats}{{\ttfamily Pool\+Stats}}{0} instance for this pool.\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21242}{}\doxysection{\texorpdfstring{Instance Methods}{Instance Methods}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21242}
\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21243}{}\doxysubsection{\texorpdfstring{{\ttfamily Balanced\+Pool.\+add\+Upstream(upstream)}}{{\ttfamily Balanced\+Pool.\+add\+Upstream(upstream)}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21243}
Add an upstream.

Arguments\+:


\begin{DoxyItemize}
\item {\bfseries{upstream}} {\ttfamily string} -\/ It should only include the {\bfseries{protocol, hostname, and port}}.
\end{DoxyItemize}\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21244}{}\doxysubsection{\texorpdfstring{{\ttfamily Balanced\+Pool.\+remove\+Upstream(upstream)}}{{\ttfamily Balanced\+Pool.\+remove\+Upstream(upstream)}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21244}
Removes an upstream that was previously addded.\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21245}{}\doxysubsection{\texorpdfstring{{\ttfamily Balanced\+Pool.\+close(\mbox{[}callback\mbox{]})}}{{\ttfamily Balanced\+Pool.\+close(\mbox{[}callback\mbox{]})}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21245}
Implements \href{Dispatcher.md\#dispatcherclosecallback-promise}{\texttt{ {\ttfamily Dispatcher.\+close(\mbox{[}callback\mbox{]})}}}.\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21246}{}\doxysubsection{\texorpdfstring{{\ttfamily Balanced\+Pool.\+destroy(\mbox{[}error, callback\mbox{]})}}{{\ttfamily Balanced\+Pool.\+destroy(\mbox{[}error, callback\mbox{]})}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21246}
Implements \href{Dispatcher.md\#dispatcherdestroyerror-callback-promise}{\texttt{ {\ttfamily Dispatcher.\+destroy(\mbox{[}error, callback\mbox{]})}}}.\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21247}{}\doxysubsection{\texorpdfstring{{\ttfamily Balanced\+Pool.\+connect(options\mbox{[}, callback\mbox{]})}}{{\ttfamily Balanced\+Pool.\+connect(options\mbox{[}, callback\mbox{]})}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21247}
See \href{Dispatcher.md\#dispatcherconnectoptions-callback}{\texttt{ {\ttfamily Dispatcher.\+connect(options\mbox{[}, callback\mbox{]})}}}.\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21248}{}\doxysubsection{\texorpdfstring{{\ttfamily Balanced\+Pool.\+dispatch(options, handlers)}}{{\ttfamily Balanced\+Pool.\+dispatch(options, handlers)}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21248}
Implements \href{Dispatcher.md\#dispatcherdispatchoptions-handler}{\texttt{ {\ttfamily Dispatcher.\+dispatch(options, handlers)}}}.\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21249}{}\doxysubsection{\texorpdfstring{{\ttfamily Balanced\+Pool.\+pipeline(options, handler)}}{{\ttfamily Balanced\+Pool.\+pipeline(options, handler)}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21249}
See \href{Dispatcher.md\#dispatcherpipelineoptions-handler}{\texttt{ {\ttfamily Dispatcher.\+pipeline(options, handler)}}}.\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21250}{}\doxysubsection{\texorpdfstring{{\ttfamily Balanced\+Pool.\+request(options\mbox{[}, callback\mbox{]})}}{{\ttfamily Balanced\+Pool.\+request(options\mbox{[}, callback\mbox{]})}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21250}
See \href{Dispatcher.md\#dispatcherrequestoptions-callback}{\texttt{ {\ttfamily Dispatcher.\+request(options \mbox{[}, callback\mbox{]})}}}.\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21251}{}\doxysubsection{\texorpdfstring{{\ttfamily Balanced\+Pool.\+stream(options, factory\mbox{[}, callback\mbox{]})}}{{\ttfamily Balanced\+Pool.\+stream(options, factory\mbox{[}, callback\mbox{]})}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21251}
See \href{Dispatcher.md\#dispatcherstreamoptions-factory-callback}{\texttt{ {\ttfamily Dispatcher.\+stream(options, factory\mbox{[}, callback\mbox{]})}}}.\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21252}{}\doxysubsection{\texorpdfstring{{\ttfamily Balanced\+Pool.\+upgrade(options\mbox{[}, callback\mbox{]})}}{{\ttfamily Balanced\+Pool.\+upgrade(options\mbox{[}, callback\mbox{]})}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21252}
See \href{Dispatcher.md\#dispatcherupgradeoptions-callback}{\texttt{ {\ttfamily Dispatcher.\+upgrade(options\mbox{[}, callback\mbox{]})}}}.\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21253}{}\doxysection{\texorpdfstring{Instance Events}{Instance Events}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21253}
\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21254}{}\doxysubsection{\texorpdfstring{Event\+: `\textquotesingle{}connect'\`{}}{Event\+: `\textquotesingle{}connect'\`{}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21254}
See \href{Dispatcher.md\#event-connect}{\texttt{ Dispatcher Event\+: `\textquotesingle{}connect'\`{}}}.\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21255}{}\doxysubsection{\texorpdfstring{Event\+: `\textquotesingle{}disconnect'\`{}}{Event\+: `\textquotesingle{}disconnect'\`{}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21255}
See \href{Dispatcher.md\#event-disconnect}{\texttt{ Dispatcher Event\+: `\textquotesingle{}disconnect'\`{}}}.\hypertarget{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21256}{}\doxysubsection{\texorpdfstring{Event\+: `\textquotesingle{}drain'\`{}}{Event\+: `\textquotesingle{}drain'\`{}}}\label{md__d_1_2_g_i_t_2_food_link_2foodlink_8client_2node__modules_2undici_2docs_2api_2_balanced_pool_autotoc_md21256}
See \href{Dispatcher.md\#event-drain}{\texttt{ Dispatcher Event\+: `\textquotesingle{}drain'\`{}}}. 